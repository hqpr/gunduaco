SELECT
retailers.`name`,
Count(prices.promotion),
DATE_FORMAT(prices.valid_from,'%d-%m-%Y')
FROM
products
INNER JOIN prices ON products.id = prices.product_id
INNER JOIN retailers ON products.retailer_id = retailers.id
WHERE
prices.promotion = 1
GROUP BY
 retailers.`name`, DATE_FORMAT(prices.valid_from,'%d-%m-%Y')
order by DATE_FORMAT(prices.valid_from,'%d-%m-%Y') desc